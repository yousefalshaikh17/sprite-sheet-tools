# Sprite Sheet Tools

This is a Python-based library of tools for splitting and generating sprite sheets. This repository provides utilities for splitting a large sprite sheet into individual sprites and creating sprite sheets from individual images. It's designed for game developers, artists, and anyone working with 2D assets.

## Features

- **Sprite Sheet Splitting**: Automatically split a sprite sheet into smaller individual sprites based on specified size and padding.
- **Sprite Sheet Generation**: Combine multiple images into a single sprite sheet with configurable grid size and padding.
- **Metadata Support**:  JSON metadata file is generated when generating sprite sheets to assist in software used to the load sprite sheets. It can also auto-fill sprite size, padding, and labels parameters on the sprite sheet splitter.
- **Label Support**: Control the names of generated sprites using labels. Labels can be added through command-line referencing to a list or JSON metadata file.

## Installation

To get started, simply clone the repository or download the necessary files.

1. Clone this repository:
   ```bash
   git clone https://github.com/yousefalshaikh17/sprite-sheet-tools.git
   ```
2. Install dependencies using ``pip``:
    ```bash
   pip install -r requirements.txt
   ```


## Usage

### Splitting a Sprite Sheet

To split a sprite sheet into individual images, run the following command:
   ```bash
   python sprite_sheet_splitter.py --input [sprite sheet file path] --output [output folder] --sprite_size ([sprite width], [sprite height])
   ```

   #### Parameters
- `-i, --input`: Required. Path to the sprite sheet image.
- `-o, --output`: Required. Directory where the individual sprite images will be saved.
- `--sprite_size`: Optional only if metatable is available. Specify the width and height of each sprite in pixels. If not provided, and metadata is available, it will be used.
- `--sprite_padding`: Optional. Padding to apply to all sprites in the sprite sheet. Defaults to (0, 0).
- `--label_path`: Optional. Path to a label file to name each sprite. Overrides metadata and command line parameters.
- `--file_name_separator`: Optional. The separator to use in the generated filenames when labels are provided (e.g., " ", "-", or "_"). Default is " ".
- `--clear_directory`: Optional. If True, clears the output directory before saving new sprites. Default is False.
- `--ignore_metadata`: If True, ignores any metadata file found in the same directory. Will always attempt to read from metadata otherwise.
- `--disinclude_blank_sprites`: If True, blank (transparent) sprites will be excluded from the output.

#### Example Command
   ```bash
   python sprite_sheet_splitter.py --input sprite_sheet.png --output output_folder --sprite_size (50,50) --sprite_padding (20,20) --label_path labels.txt --disinclude_blank_sprites --file_name_separator "-"
   ```
This command will:
- Split sprite_sheet.png into individual 50x50 sprites.
- Apply a 20x20 pixel padding to each sprite.
- Use labels from labels.txt for the sprite filenames.
- Exclude any blank (transparent) sprites from the output.

#### Example Metadata File
You can also use a metadata file in the same directory as the sprite sheet to specify labels, sprite sizes, and padding. These are typically generated by the sprite generator, but can easily be created manually. This can be used to auto-fill parameters in the sprite sheet generator. However, the main purpose is for the data to be available for the software that will use the sprite sheet.
```json
{
    "sprite_size": {
        "width": 50,
        "height": 50
    },
    "sprite_padding": {
        "horizontal": 20,
        "vertical": 20
    },
    "grid_size": {
        "rows": 2,
        "cols": 2
    },
    "sheet_size": {
        "width": 120,
        "height": 120
    },
    "Labels": [
        "Red",
        "Blue",
        "Purple",
        "Orange"
    ],
}
```
If a metadata file is available, you can skip the `--sprite_size`, ``--label_path`` and `--sprite_padding` parameters when running the tool. Using any of these parameters will overwrite the values read from the metadata.

### Generating a Sprite Sheet
To generate a sprite sheet from multiple images, use the following command:
   ```bash
   python sprite_sheet_generator.py --input [paths of sprites or sprite folders] --output [output path] --grid_size ([rows], [cols])
   ```

#### Parameters:
- `-i, --input`: Required. Path to each sprite sheet or folder containing sprite images.
You can provide multiple files or a directory using glob patterns (e.g., path/to/sprites/*.png). The order of the input will determine the order on the sprite sheet.
- `-o, --output`: Required. Path where the generated sprite sheet will be saved.
- `-gs, --grid_size`: Optional. Specify the grid size (rows x columns) for the sprite sheet. -If not specified, it defaults to (0, 0), which auto-fits the grid based on the sprites' size and number.
- `--sprite_padding`: Optional. Padding to apply to all sprites in the sprite sheet. Default is (0, 0), which means no padding.

#### Example Command
   ```bash
   python sprite_sheet_generator.py --input sheets1/ sheets2/23.png --output sprite_sheet.png --grid_size (5,5) --sprite_padding (2,2)
   ```
This command will:
- Combine all sprite images in the specified directories and files.
- Create a sprite sheet with 5 rows and 5 columns.
- Apply 2 pixel padding between sprites.
- Save the result as sprite_sheet.png in the output directory. sprite_sheet-metadata.json and sprite_sheet-labels.txt files will be included in the same directory.

#### Notes
- **Sprite Size Consistency**: It is recommended that all sprite images are the same size for optimal results.
- **Padding**: You can specify horizontal and vertical padding. Padding values are applied uniformly across the entire sprite sheet.
- **Overflow**: If the number of sprites exceed the number of `rows x columns`, it will raise a ValueError exception. In the future, this will be able to make multiple sheets instead.

## Testing
This project includes a set of unit tests to ensure the functionality of the sprite generator. You can run the tests locally by executing the following command:
   ```bash
   python tests/unit_tests.py
   ```

## License

This project is licensed under the MIT License â€“ see the `LICENSE` file for details.

## Contributing

Contributions are welcome! If you have any suggestions, bug reports, or improvements, feel free to open an issue or submit a pull request.

### How to Contribute
 1. Fork the repository
 2. Create a new branch for your changes
 3. Commit your changes
 4. Push to the branch
 5. Create a pull request